<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PFSimple: PFSimple</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">PFSimple
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="doc-content">
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">PFSimple </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_README"></a></p>
<h1>General information</h1>
<p>The Paticle Finder Simple package is simplified version of the KF Partice package based on its mathematical apparatus. It is developed for the complete reconstruction of short-lived particles with their momentum, energy, mass, lifetime, decaylength, rapidity, etc.</p>
<h1>Requirements</h1>
<h2>Root</h2>
<p><a href="https://root.cern/install/">https://root.cern/install/</a></p>
<p>Version 6.20 or newer is recommended. Root with c++17 standard is strongly recommended.</p>
<h2>AnalysisTree</h2>
<p>Optional. Needed for building AnalysisTree interface.</p>
<p><a href="https://github.com/HeavyIonAnalysis/AnalysisTree">https://github.com/HeavyIonAnalysis/AnalysisTree</a></p>
<p>Both pre-installed AnalysisTree and automatically installed together with PFSimple framework can be used (see chapter Installation)</p>
<p>AnalysisTree with c++17 standard is strongly recommended.</p>
<h1>Installation</h1>
<p>Clone PFSimple</p>
<p>Source ROOT </p><pre class="fragment">source /path-to-root/install/bin/thisroot.sh
</pre><p>To use pre-installed AnalysisTree set the environment variable: export AnalysisTree_DIR=/path-to-analysistree/install/lib/cmake/AnalysisTree To build AnalysisTree automatically together with PFSimple use following cmake keys: -DPFSimple_BUNDLED_AT=ON -DPFSimple_BUNDLED_AT_VERSION=v2.2.7</p>
<p>You need to source root and export AnalysisTree each time when you are compiling project from 0 (perform cmake command) but have no need to do it when just recompiling project (perform just make).</p>
<p>Install PFSimple </p><pre class="fragment">mkdir build
cd build
cmake -DCMAKE_INSTALL_PREFIX=/path-to-install-pfsimple /path-to-source-pfsimple
make -j install
</pre><h1>First run</h1>
<p>The reconstruction will be executed with at_interface/main2.cpp for 2-body decays and at_interface/main3.cpp for 3-body decays.</p>
<p>The reconstruction can be configured with the parameter-file at_interface/parfile2.txt for 2-body decays and at_interface/parfile3.txt for 3-body decays.</p>
<p>The user can select: 1) <a class="el" href="d9/df4/classDecay.html">Decay</a>: mother and daughters</p>
<p>Option for daughters: alternative pdgs can be used in addition for the reconstruction</p><ul>
<li>for background: set to "1" / "-1" for pos / neg daughters</li>
<li>for tracks without TOF id: set to "2" / "-2" for pos / neg daughters (in pid-mode 2, 3, 4)</li>
<li>In pid-mode 0 optional daughers "1" / "-1" for pos / neg pdgs must be added.</li>
</ul>
<p>If no alternative pdgs should be used, set to "0".</p>
<p>If more optional pdgs than 2 should be added, change in main2.cpp / main3.cpp and recompile.</p>
<p>2) Geometrical cuts to be applied and cut-values</p>
<p>If a cut should not be used, set to "-1".</p>
<p>For more information on specific cuts see " Constants.hpp".</p>
<p>3) Pid-method:</p>
<ul>
<li>0: no pid (only charge information is used ! optional daughers must be set to "1" / "-1" for pos / neg pdgs !)</li>
<li>1: mc-pid</li>
<li>2: reconstructed TOF pid - default from Pid-framework</li>
<li>3: reconstructed TOF pid - pdg with max. pdg-purity is selected, if pdg-purity &gt;min. purity</li>
<li>4: reconstructed TOF pid - pdg is selected, if pdg-purity &gt; min. purity (pdg-specfic purities are possible)</li>
</ul>
<p>for 2-4: Pid-framework needs to be applied first to include TOF-pid &amp; probabilities into the analysistree input-file</p>
<p>4) Minium purities for pid-mode 3 &amp; 4:</p><ul>
<li>for pid-mode 3: minimum purity is set for all pdgs (pdg-spefic purities need to be set to "-1")</li>
<li>for pid-mode 4: minimum purity can be set for all pdgs or specifically for every pdg (general purity will be overwritten, if pdg-specific purity is not set to "-1")</li>
</ul>
<p>5) Input/Output information:</p><ul>
<li>treename in input aTree, default names: "rTree" for standard aTree, "aTree" after running Pid-framework</li>
<li>branchname of reconstructed tracks in input analysistree, default names: "VtxTracks" for standard analyistree, "RecParticles" after running Pid-framework</li>
<li>number of events to be processed (-1 = all events)</li>
<li>Output format: default output is analysistree format options:<ul>
<li>plain tree: contains information about the candidates (is produced in addition to analysistree)</li>
<li>root tree: contains information about candidates, matched mc-particles and events (no analyistree is written)</li>
</ul>
</li>
</ul>
<p>If more than one decay should be reconstructed in the same run, additional parfiles at_interface/parfile2_add.txt etc. can be added where 1.) &amp; 2.) can be selected. 3.) - 5.) can not be changed in the same run.</p>
<p>For 3-body decays, the list of available cuts is extended, amoung others, to cuts on the secondary mothers (SM) of combinations of 2 daughters. E.g. for H3L-&gt;p + pi + d, cuts on the SM of p-pi can be applied. The cuts that test the mother against the PV, e.g. chi2topo, are inverted for the SM to exclude SMs that come from the PV.</p>
<p>Several example parameter files can be found in the folder at_interface.</p>
<p>Each time before running the prepared executable you should set the environment variables to let your system know where to find libraries: </p><pre class="fragment">source /path-to-root/install/bin/thisroot.sh
export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/path-to-pfsimple-installation/lib/
export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/path-to-pfsimple-installation/external/lib/
export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/path-to-analysistree-installation/lib/
</pre><p>Then run the executable: </p><pre class="fragment">./main2 filelist.txt dataset parfile2.txt (parfile2_add.txt)
</pre><p>or </p><pre class="fragment">./main3 filelist.txt dataset parfile3.txt (parfile3_add.txt)
</pre><p>where filelist.txt must be a text file with names (including paths) to files which you want to analyze with PFSimple. Each file name should be on the next line, and the last symbol should also be a switch to next line. The example of filelist is in the source directory of PFSimple (filelist_example.txt)</p>
<p>and where [dataset] specifies the names of the outputfiles:</p><ul>
<li>analyistree: [dataset].PFSimpleOutput.root</li>
<li>plain tree: [dataset].PFSimplePlainTree.root</li>
<li>root tree: [dataset].PFSimpleTree.root </li>
</ul>
</div></div><!-- PageDoc -->
<a href="doxygen_crawl.html"></a>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
